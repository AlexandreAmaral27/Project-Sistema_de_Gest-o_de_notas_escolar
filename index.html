<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistema Escolar</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{
  --primary:#2563eb;
  --success:#10b981;
  --danger:#ef4444;
  --dark:#111827;
  --glass: rgba(255,255,255,0.1);
}

*{ box-sizing:border-box; }

body{
  font-family:'Poppins',sans-serif;
  margin:0;
  background:linear-gradient(135deg,#1e3a8a,#2563eb);
  color:white;
  transition:0.4s;
}

.dark{
  background:var(--dark);
  color:#eee;
}

/* HEADER */
header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 25px;
  background:rgba(0,0,0,0.3);
  backdrop-filter:blur(10px);
}

.menu-toggle{
  display:none;
  font-size:22px;
  cursor:pointer;
}

.logo{
  font-weight:600;
}

.header-actions button{
  margin-left:10px;
}

/* BOT√ïES */
button{
  background:var(--primary);
  border:none;
  padding:10px 15px;
  border-radius:8px;
  color:white;
  cursor:pointer;
  transition:0.3s;
}

button:hover{
  transform:scale(1.05);
  opacity:0.9;
}

/* SIDEBAR */
.sidebar{
  width:230px;
  position:fixed;
  height:100%;
  background:rgba(0,0,0,0.4);
  backdrop-filter:blur(10px);
  padding-top:20px;
  transition:0.4s;
}

.sidebar button{
  display:block;
  width:100%;
  background:none;
  padding:15px;
  text-align:left;
  color:white;
}

.sidebar button:hover{
  background:rgba(255,255,255,0.1);
}

.sidebar.active{
  left:0;
}

main{
  margin-left:230px;
  padding:30px;
  transition:0.4s;
}

/* CARDS */
.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:20px;
}

.card{
  background:var(--glass);
  padding:25px;
  border-radius:20px;
  backdrop-filter:blur(15px);
  transition:0.4s;
}

.card:hover{
  transform:translateY(-5px);
}

/* FORM */
input{
  padding:10px;
  margin:8px 0;
  border:none;
  border-radius:8px;
  width:100%;
}

/* LISTAS */
.lista div{
  background:var(--glass);
  padding:12px;
  margin-bottom:10px;
  border-radius:10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

/* LOGIN */
.login-container{
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.login-box{
  background:var(--glass);
  padding:40px;
  border-radius:20px;
  backdrop-filter:blur(15px);
  width:90%;
  max-width:350px;
  text-align:center;
}

/* TOAST */
.toast{
  position:fixed;
  bottom:20px;
  right:20px;
  background:var(--success);
  padding:15px 20px;
  border-radius:10px;
  opacity:0;
  transition:0.4s;
}

.toast.show{
  opacity:1;
}

/* RESPONSIVO */
@media(max-width:900px){
  .sidebar{
    left:-230px;
  }

  main{
    margin-left:0;
  }

  .menu-toggle{
    display:block;
  }
}
</style>
</head>
<body>

<!-- LOGIN -->
<section id="loginSection" class="login-container">
  <div class="login-box">
    <h2>üéì Sistema Escolar</h2>
    <input type="text" id="usuario" placeholder="Usu√°rio">
    <input type="password" id="senha" placeholder="Senha">
    <button onclick="login()">Entrar</button>
  </div>
</section>

<!-- SISTEMA -->
<div id="sistema" style="display:none;">

<header>
  <div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>
  <div class="logo">üéì Gest√£o Escolar</div>
  <div class="header-actions">
    <button onclick="logout()">Sair</button>
  </div>
</header>

<aside class="sidebar">
  <button onclick="mostrarSecao('dashboard')">üìä Dashboard</button>
  <button onclick="mostrarSecao('alunos')">üë®‚Äçüéì Alunos</button>
  <button onclick="mostrarSecao('professores')">üë©‚Äçüè´ Professores</button>
  <button onclick="mostrarSecao('notas')">üìù Notas</button>
</aside>

<main>

<section id="dashboard">
  <h2>Vis√£o Geral</h2>
  <div class="cards">
    <div class="card">
      <h3>Total Alunos</h3>
      <p id="totalAlunos">0</p>
    </div>
    <div class="card">
      <h3>M√©dia Geral</h3>
      <p id="mediaGeral">0</p>
    </div>
  </div>
  <canvas id="graficoNotas"></canvas>
</section>

<section id="alunos" style="display:none;">
  <h2>Cadastro de Alunos</h2>
  <form onsubmit="cadastrarAluno(event)">
    <input type="text" id="nomeAluno" placeholder="Nome" required>
    <input type="text" id="matriculaAluno" placeholder="Matr√≠cula" required>
    <button type="submit">Cadastrar</button>
  </form>
  <div id="listaAlunos" class="lista"></div>
</section>

<section id="professores" style="display:none;">
  <h2>Cadastro de Professores</h2>
  <form onsubmit="cadastrarProfessor(event)">
    <input type="text" id="nomeProfessor" placeholder="Nome" required>
    <input type="text" id="disciplinaProfessor" placeholder="Disciplina" required>
    <button type="submit">Cadastrar</button>
  </form>
  <div id="listaProfessores" class="lista"></div>
</section>

<section id="notas" style="display:none;">
  <h2>Lan√ßamento de Notas</h2>
  <form onsubmit="lancarNotas(event)">
    <input type="text" id="alunoNota" placeholder="Nome do aluno" required>
    <input type="number" id="nota1" placeholder="Nota 1" required>
    <input type="number" id="nota2" placeholder="Nota 2" required>
    <button type="submit">Salvar</button>
  </form>
  <div id="listaNotas" class="lista"></div>
</section>

</main>
</div>

<div id="toast" class="toast"></div>

<script>
const administradores = [
  { usuario: "Amaral", senha: "1234" },
  { usuario: "Sheldy Costa", senha: "2026" }
];
let alunos = JSON.parse(localStorage.getItem("alunos")) || [];
let professores = JSON.parse(localStorage.getItem("professores")) || [];
let notas = JSON.parse(localStorage.getItem("notas")) || [];

/* LOGIN */
function login(){
  const user = usuario.value;
  const pass = senha.value;

const valido = administradores.find(
  a => a.usuario.toLowerCase() === user.toLowerCase() && a.senha === pass
);
  if(valido){
    loginSection.style.display="none";
    sistema.style.display="block";
    inicializar();
  } else {
    showToast("Usu√°rio ou senha incorretos!");
  }
}

function logout(){
  location.reload();
}

/* MENU */
function toggleMenu(){
  document.querySelector(".sidebar").classList.toggle("active");
}

function toggleDarkMode(){
  document.body.classList.toggle("dark");
}

/* SE√á√ïES */
function mostrarSecao(id){
  document.querySelectorAll("main section").forEach(sec=>{
    sec.style.display="none";
  });
  document.getElementById(id).style.display="block";
}

/* TOAST */
function showToast(msg){
  const toast=document.getElementById("toast");
  toast.textContent=msg;
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"),3000);
}

/* INICIALIZA */
function inicializar(){
  renderAlunos();
  renderProfessores();
  renderNotas();
  atualizarDashboard();
}

/* ALUNOS */
function cadastrarAluno(e){
  e.preventDefault();
  alunos.push({nome:nomeAluno.value,matricula:matriculaAluno.value});
  localStorage.setItem("alunos",JSON.stringify(alunos));
  renderAlunos();
  atualizarDashboard();
  e.target.reset();
  showToast("Aluno cadastrado!");
}

function renderAlunos(){
  listaAlunos.innerHTML="";
  alunos.forEach((a,i)=>{
    listaAlunos.innerHTML+=`
      <div>${a.nome} - ${a.matricula}
      <button onclick="removerAluno(${i})">‚ùå</button></div>`;
  });
}

function removerAluno(i){
  alunos.splice(i,1);
  localStorage.setItem("alunos",JSON.stringify(alunos));
  renderAlunos();
  atualizarDashboard();
}

/* PROFESSORES */
function cadastrarProfessor(e){
  e.preventDefault();
  professores.push({nome:nomeProfessor.value,disciplina:disciplinaProfessor.value});
  localStorage.setItem("professores",JSON.stringify(professores));
  renderProfessores();
  e.target.reset();
  showToast("Professor cadastrado!");
}

function renderProfessores(){
  listaProfessores.innerHTML="";
  professores.forEach((p,i)=>{
    listaProfessores.innerHTML+=`
      <div>${p.nome} - ${p.disciplina}
      <button onclick="removerProfessor(${i})">‚ùå</button></div>`;
  });
}

function removerProfessor(i){
  professores.splice(i,1);
  localStorage.setItem("professores",JSON.stringify(professores));
  renderProfessores();
}

/* NOTAS */
function lancarNotas(e){
  e.preventDefault();
  const media=(+nota1.value + +nota2.value)/2;
  notas.push({aluno:alunoNota.value,media});
  localStorage.setItem("notas",JSON.stringify(notas));
  renderNotas();
  atualizarDashboard();
  e.target.reset();
  showToast("Notas lan√ßadas!");
}

function renderNotas(){
  listaNotas.innerHTML="";
  notas.forEach((n,i)=>{
    listaNotas.innerHTML+=`
      <div>${n.aluno} - M√©dia: ${n.media.toFixed(1)}
      <button onclick="removerNota(${i})">‚ùå</button></div>`;
  });
}

function removerNota(i){
  notas.splice(i,1);
  localStorage.setItem("notas",JSON.stringify(notas));
  renderNotas();
  atualizarDashboard();
}

/* DASHBOARD */
function atualizarDashboard(){
  totalAlunos.textContent=alunos.length;

  let media=notas.length
    ? (notas.reduce((acc,n)=>acc+n.media,0)/notas.length).toFixed(1)
    : 0;

  mediaGeral.textContent=media;
  desenharGrafico();
}

/* GR√ÅFICO */
function desenharGrafico(){
  const canvas=document.getElementById("graficoNotas");
  const ctx=canvas.getContext("2d");

  canvas.width=canvas.parentElement.offsetWidth;
  canvas.height=250;

  ctx.clearRect(0,0,canvas.width,canvas.height);

  notas.forEach((n,i)=>{
    const altura=n.media*15;
    const x=i*60+30;
    const y=canvas.height-altura;

    ctx.fillStyle="#00ffcc";
    ctx.fillRect(x,y,40,altura);

    ctx.fillStyle="white";
    ctx.fillText(n.media.toFixed(1),x+10,y-5);
  });
}
</script>

</body>
</html>